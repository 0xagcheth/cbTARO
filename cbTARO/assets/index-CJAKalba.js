(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))d(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const t of i.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&d(t)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function d(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();window.__fc={sdk:null,sdkPromise:null,provider:null,providerPromise:null,readyCalled:!1};async function c(){return window.__fc.sdk?window.__fc.sdk:(window.__fc.sdkPromise||(console.log("[FC] importing miniapp sdk..."),window.__fc.sdkPromise=(async()=>{try{const r=await import(window.__SDK_URLS.fc);window.__fc.sdk=r.sdk;const e=Object.keys(window.__fc.sdk||{}).join(", ");return console.log("[FC] imported keys:",e),window.__fc.sdk}catch(r){throw console.error("[FC] SDK import failed:",r),r}})()),window.__fc.sdkPromise)}async function s(){var r;if(window.__fc.readyCalled){console.log("[FC] ready() already called, skipping");return}try{const e=await c();(r=e==null?void 0:e.actions)!=null&&r.ready?(await e.actions.ready(),window.__fc.readyCalled=!0,console.log("[FC] ✅ actions.ready() ok")):console.log("[FC] sdk.actions.ready not available")}catch(e){console.log("[FC] ready() skipped (not in miniapp)",e)}}async function l(){return console.log("[FC] fcProvider() called"),console.log("[FC] window.__fc.provider cached:",!!window.__fc.provider),console.log("[FC] window.__fc.providerPromise exists:",!!window.__fc.providerPromise),window.__fc.provider?(console.log("[FC] Returning cached provider"),window.__fc.provider):window.__fc.providerPromise?(console.log("[FC] Returning existing providerPromise"),window.__fc.providerPromise):(console.log("[FC] Creating new providerPromise..."),window.__fc.providerPromise=(async()=>{var r;try{console.log("[FC] Loading SDK for provider...");const e=await c();console.log("[FC] SDK loaded, checking sdk.wallet:",!!(e!=null&&e.wallet)),console.log("[FC] sdk.wallet.getEthereumProvider available:",typeof((r=e==null?void 0:e.wallet)==null?void 0:r.getEthereumProvider)=="function");const n=await e.wallet.getEthereumProvider();return console.log("[FC] ✅ got ethereum provider from sdk:",!!n),console.log("[FC] Provider type:",typeof n),console.log("[FC] Provider has request method:",typeof(n==null?void 0:n.request)=="function"),window.__fc.provider=n,n}catch(e){return console.error("[FC] ❌ ethereum provider not available:",e),console.error("[FC] Error details:",{message:e.message,stack:e.stack,name:e.name}),null}})(),window.__fc.providerPromise)}window.loadFcSdk=c;window.fcReadyOnce=s;window.fcProvider=l;s();
